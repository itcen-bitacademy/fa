<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="menu47">
	<resultMap type="stermdebtvo" id="stermdebtResult">
		<result column="major_code" property="majorCode"/>
		<result column="debt_amount" property="debtAmount" />
		<result column="repay_bal" property="repayBal" />
		<result column="repay_way" property="repayWay" />
		<result column="debt_date" property="debtDate" />
		<result column="exp_date" property="expDate" />
		<result column="int_rate" property="intRate" />
		<result column="int_pay_way" property="intPayWay" />
		<result column="int_amount" property="intAmount" />
		<result column="bank_code" property="bankCode" />
		<result column="deposit_no" property="depositNo" />
		<result column="account_no" property="accountNo" />
		<result column="voucher_no" property="voucherNo" />
		<result column="delete_flag" property="deleteFlag" />
		<result column="insert_id" property="insertId" />
		<result column="insert_date" property="insertDate" />
		<result column="update_id" property="updateId" />
		<result column="update_date" property="updateDate" />
	</resultMap>
	
	<select id="getList" parameterType="stermdebtvo" resultType="stermdebtvo" resultMap="stermdebtResult">
		<![CDATA[
			select 
			no, code, major_code, name,
			debt_amount, repay_bal, repay_way,
			date_format(debt_date, "%Y-%m-%d") debt_date, date_format(exp_date, "%Y-%m-%d") exp_date, int_rate,
			int_pay_way, int_amount, mgr,
			mgr_call, bank_code, deposit_no, 
			account_no, voucher_no, delete_flag,
			insert_id, insert_date, update_id,
			update_date 
			from tb_s_term_debt
			where delete_flag="N" and repay_comple_flag="N"
		]]>
		<if test='bankName != null and !"".equals(bankName)'>
				and bank_code = #{bankName}
			</if>
			<if test='debtDate != null and !"".equals(debtDate)'>
				and debt_date = #{debtDate}
			</if>
			<if test='expDate != null and !"".equals(expDate)'>
				and exp_date = #{expDate}
			</if>
			<if test='intPayWay != null and !"".equals(intPayWay)'>
				and int_pay_way = #{intPayWay}
			</if>
			<if test='repayComplFlag != null and !"".equals(repayComplFlag)'>
				and repay_compl_flag = #{repayCompleFlag}
			</if>
			<if test='deleteFlag != null and !"".equals(deleteFlag)'>
				and delete_flag = #{repayCompleFlag}
			</if>
	</select>
	
	<select id="getListWithOrder" parameterType="map" resultType="stermdebtvo">
	
	</select>
</mapper>